Типичное интервью — шаги
1. Вход/регистрация: POST /auth/register или /auth/login, бэкенд ставит куки access_token/refresh_token (HTTP only).
2. Старт сессии: UI выбирает трек/уровень/язык, отправляет POST /interview/start; бэкенд создаёт запись session (state=idle) и возвращает session_id.
3. Чат (SSE): UI открывает SSE GET /chat/stream?session_id; Chat API читает history, зовёт LLM (Scibox/Qwen), стримит ответы; сообщения пользователя уходят через POST /chat/send.
4. Получение задачи: UI запрашивает POST /tasks/next {session_id, level}; бэкенд отдаёт условие, видимые тесты (подсказки) и скрытые тесты (не показываются).
5. Быстрый прогон («Запустить»): UI отправляет POST /tasks/run {session_id, task_id, lang, code}; Tasks API гоняет код на видимых тестах (~3) через раннер, возвращает результаты и state=awaiting_solution.
6. Финальная проверка («Отправить решение»): UI отправляет POST /tasks/check {session_id, task_id, lang, code}; Tasks API гоняет код на всех тестах (видимые+скрытые ≥10), считает summary X/Y, пишет в history и дергает LLM для фидбека; UI получает фидбек по SSE.
7. Адаптивный цикл: по результатам LLM/Tasks выдаётся новая задача (через /tasks/next или через чат-промпт), сложность может меняться; шаги 5–6 повторяются до лимита времени/вопросов.
8. Завершение: по кнопке «Закончить» или по таймеру бэкенд фиксирует финальный статус сессии (passed/failed/feedback_ready) в SQLite; экран «Мои результаты» показывает последние сессии, баллы, фидбек и статистику попыток/тестов.
